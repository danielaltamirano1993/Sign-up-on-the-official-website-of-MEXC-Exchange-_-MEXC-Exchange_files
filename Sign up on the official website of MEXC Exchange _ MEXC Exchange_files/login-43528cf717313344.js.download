(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83459],{36429:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(54356)}])},19413:function(e,t,n){"use strict";var o=n(57611),i=n(67597),r=n(61338),a=n.n(r),s=n(42265),c=n(9891),l=n(61395);t.Z=function(e){var t=e.children,n=e.onSuccess,r=e.successAfterBind,u=(0,l.Z)("auth").t,d=(0,i.useRef)();(0,i.useEffect)((function(){window.gapi&&h()}),[]);var h=function(){window.gapi.load("auth2",(function(){d.current=window.gapi.auth2.init({client_id:"643629201101-rqafcu4qpoipfcstq29i8cd0gjbeea90.apps.googleusercontent.com",plugin_name:"google_auth_login"})}))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a(),{id:"google-auth",src:"https://apis.google.com/js/api:client.js",onLoad:function(){h()}}),(0,o.jsx)("div",{onClick:function(){d.current?d.current.signIn({prompt:"select_account"}).then((function(e){var t=e.getAuthResponse().id_token;t&&"function"===typeof n&&(0,s.Nn)({idToken:t,internal:!!r}).then((function(e){var t=e.code,o=e.data;0===t&&o&&n(o)}))})):c.ZP.error(u("mc_auth_other_login_load_error"))},children:t})]})}},22024:function(e,t,n){"use strict";var o=n(57611),i=n(67597),r=n(42265),a=n(9891),s=n(61395);t.Z=function(e){var t=e.children,n=e.onSuccess,c=e.successAfterBind,l=(0,s.Z)("auth").t,u="https://www.mexc.com",d=(0,i.useRef)(null),h=(0,i.useState)(!1),m=h[0],f=h[1];return(0,i.useEffect)((function(){var e=function(e){var t=e.origin,o=e.data,i=null===o||void 0===o?void 0:o.source,a=null===o||void 0===o?void 0:o.payload;if(t===u&&("telegram-auth-onload"===i&&f(!0),"telegram-auth-success"===i&&a&&"function"===typeof n)){var s=a.first_name,l=a.last_name,d=a.auth_date,h=a.hash,m=a.id,p=a.photo_url,_={userId:m,firstName:s,lastName:l,username:a.username,photoUrl:p,authDate:d,hash:h,internal:!!c};(0,r.cQ)(_).then((function(e){var t=e.code,o=e.data;0===t&&o&&n(o)}))}},t=document.createElement("iframe");return t.id="telegram-auth-iframe",t.width=0,t.height=0,t.style.display="none",t.style.visibility="hidden",t.src="".concat(u,"/static-pages/telegram-auth.html"),t.onload=function(){d.current=t},document.body.appendChild(t),window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[]),(0,o.jsx)("div",{onClick:function(){m?d.current&&d.current.contentWindow.postMessage({source:"telegram-login-auth"},u):a.ZP.error(l("mc_auth_other_login_load_error"))},children:t})}},54356:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return ue},default:function(){return he},useLogin:function(){return de}});var o=n(57611),i=n(67597),r=n(9605),a=n.n(r),s=n(67104),c=n(4643),l=n(88901),u=n.n(l),d=n(15129),h=n(81987),m=n.n(h),f=n(4634),p=n(9891),_=n(47374),g=n(36069),v=n(872),b=n(42265),y=n(9134),x=n.n(y),j=n(93633),w=n(62049),C=n.n(w),k=n(61395),S=n(95296),I=n(75329),N=n(58739),T=n(22024),O=n(19413),L=n(96918),Z=n.n(L);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function E(e,t,n,o,i,r,a){try{var s=e[r](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,i)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function a(e){E(r,o,i,a,s,"next",e)}function s(e){E(r,o,i,a,s,"throw",e)}a(void 0)}))}}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){R(e,t,n[t])}))}return e}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return r}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U="mxc_login_type",q={TELEGRAM:"mc_auth_login_title_telegram",GOOGLE:"mc_auth_login_title_google"};function B(){var e=(0,d.useRouter)(),t=e.locale,n=D(f.Z.useForm(),1)[0],r=de(),a=r.setLoginData,s=r.setLoginType,c=r.setMobileCode,l=r.setLoginLayoutType,h=r.setTitle,y=(0,i.useState)(!1),w=y[0],L=y[1],A=(0,i.useRef)(null),E=(0,i.useState)(),R=E[0],B=E[1],W=(0,i.useState)(),M=W[0],G=W[1],V=(0,i.useState)("mobile"),K=V[0],H=V[1],z=(0,i.useState)(!1),J=z[0],X=z[1],Y=(0,i.useState)(!1),Q=Y[0],$=Y[1],ee=(0,i.useState)(!1),te=ee[0],ne=ee[1],oe=(0,i.useState)(!1),ie=oe[0],re=oe[1],ae=(0,i.useState)(),se=ae[0],ce=ae[1],le=(0,k.Z)("auth").t,ue=(0,N.Z)().data;(0,i.useEffect)((function(){var e=window.localStorage.getItem(U);e&&(H(e),s(e));var t=window.sessionStorage.getItem("mexc_other_login_bind_info");if(t){var n=JSON.parse(t);ce(n),l("bind"),h(le(q[n.type]))}}),[]),(0,i.useEffect)((function(){n.resetFields()}),[K]);var he=function(e){window.localStorage.setItem(U,e),H(e),s&&s(e)};(0,i.useEffect)((function(){(0,b.S2)(A,{setData:B,onFail:function(e){return fe(!1,{msg:"verification failed"})},onClose:function(){return L(!1)}},t)}),[t]),(0,i.useEffect)((function(){R&&me()}),[R]);var me=function(){var e=P(u().mark((function e(){var o,i,r,s,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!0),o=n.getFieldsValue(["account","password"]),i=I.Z.encrypt("".concat(m()(o.password),"|").concat(Date.now()),m()(o.account).substring(8,24)),r=F({account:o.account,password:i,locale:t},R),"mobile"===K&&(r.country=M.mobileCode||void 0),(0,v.X1)("login",{method:K}),!se){e.next=16;break}return r.thirdpartyType=se.type,r.bindToken=se.bindToken,e.next=12,(0,b.FK)(r);case 12:0===(null===(s=e.sent)||void 0===s?void 0:s.code)&&p.ZP.success(le("mc_auth_other_login_link_success")),e.next=19;break;case 16:return e.next=18,(0,b.NU)(r);case 18:s=e.sent;case 19:if(fe(!0),0===s.code){e.next=26;break}return(0,v.Wr)("User_loginResult",{login_method:K,is_success:null!==(d=null===s||void 0===s?void 0:s.success)&&void 0!==d&&d,fail_reason:(null===s||void 0===s?void 0:s.msg)||""}),B(null),L(!1),e.abrupt("return");case 26:l("secondAuth"),a(F({},s.data)),"mobile"===K&&c(M.mobileCode),L(!1),B(null);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,v.Wr)("User_intelligentDetectionResult",{is_success:e,fail_reason:(null===t||void 0===t?void 0:t.msg)||""})},pe=function(){var e=P(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ue||!ue.limitLogin){e.next=2;break}return e.abrupt("return");case 2:if("mobile"!==K||M){e.next=5;break}return p.ZP.error(le("common:mc_common_country_select_please")),e.abrupt("return");case 5:A.current.showCaptcha();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(e,t){t.bind?(l("secondAuth"),a(t),c(t.mobileCountry)):(ce({type:e,bindToken:t.bindToken}),l("bind"),h(le(q[e])))},ge=(0,o.jsx)(j.Z,{businessType:"LOGIN",showCountryName:!1,bordered:!1,onChange:function(e){return function(e){G(e)}(e)}});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:Z().tabs,children:[(0,o.jsx)("div",{className:x()(Z().tab,"mobile"===K&&Z().active),onClick:function(e){return he("mobile")},children:le("mc_auth_mobile_login")}),(0,o.jsx)("div",{className:x()(Z().tab,"email"===K&&Z().active),onClick:function(e){return he("email")},children:le("mc_auth_mobile_email")})]}),(0,o.jsxs)(f.Z,{form:n,name:"login",onFinish:pe,requiredMark:!1,className:Z().loginForm,children:["mobile"===K&&(0,o.jsx)("div",{className:x()(Z().item,J&&Z().itemFocused),children:(0,o.jsx)(f.Z.Item,{label:le("common:mc_common_phone"),name:"account",rules:[{required:!0,message:le("mc_auth_login_mobile_require")},{pattern:v.OX,message:le("mc_auth_login_mobile_reg")}],getValueFromEvent:function(e){return e.target.value.trim()},children:(0,o.jsx)(_.Z,{addonBefore:ge,bordered:!1,placeholder:le("common:mc_common_phone"),onFocus:function(e){return X(!0)},onBlur:function(e){return X(!1)}})})}),"mobile"!==K&&(0,o.jsx)("div",{className:x()(Z().item,Q&&Z().itemFocused),children:(0,o.jsx)(f.Z.Item,{label:le("mc_auth_login_email"),name:"account",rules:[{required:!0,message:le("mc_auth_login_account_placeholder")},{pattern:v.m0,message:le("mc_auth_login_account_reg")}],getValueFromEvent:function(e){return e.target.value.trim()},children:(0,o.jsx)(_.Z,{placeholder:le("mc_auth_login_account"),bordered:!1,onFocus:function(e){return $(!0)},onBlur:function(e){return $(!1)}})})}),(0,o.jsx)("div",{className:x()(Z().item,te&&Z().itemFocused),children:(0,o.jsx)(f.Z.Item,{label:le("common:mc_common_password"),name:"password",rules:[{required:!0,message:le("common:mc_common_password_require")}],getValueFromEvent:function(e){return e.target.value.trim()},children:(0,o.jsx)(_.Z.Password,{placeholder:le("common:mc_common_password"),bordered:!1,onFocus:function(e){return ne(!0)},onBlur:function(e){return ne(!1)}})})}),(0,o.jsx)(g.Z,{onClick:function(){ue&&ue.limitLogin&&re(!0)},type:"primary",htmlType:"submit",loading:w,children:le(se?"mc_auth_other_login_link":"common:mc_common_nav_login")}),(0,o.jsxs)("div",{className:Z().links,children:[(0,o.jsx)(C(),{href:"/forget-password",children:le("mc_auth_login_forget_pwd")}),(0,o.jsx)("a",{onClick:function(){se&&window.sessionStorage.setItem("mexc_other_login_bind_info",JSON.stringify(se)),e.push("/register")},style:{color:"var(--mocha-6)"},children:le("mc_auth_login_register")})]}),!se&&(0,o.jsxs)("div",{className:Z().otherLogin,children:[(0,o.jsx)("div",{className:Z().otherLoginTitle,children:(0,o.jsx)("div",{className:Z().otherLoginTitleText,children:le("mc_auth_other_login_title")})}),(0,o.jsxs)("div",{className:Z().otherLoginHandle,children:[(0,o.jsx)(O.Z,{onSuccess:function(e){return _e("GOOGLE",e)},children:(0,o.jsxs)("div",{className:Z().otherLoginItem,children:[(0,o.jsx)("svg",{className:Z().itemIcon,"aria-hidden":"true",children:(0,o.jsx)("use",{xlinkHref:"#icongoogle1"})}),"Google"]})}),(0,o.jsx)(T.Z,{onSuccess:function(e){return _e("TELEGRAM",e)},children:(0,o.jsxs)("div",{className:Z().otherLoginItem,children:[(0,o.jsx)("span",{className:x()("iconfont iconicon_Telegram",Z().itemIcon,Z().itemTelegramIcon)}),"Telegram"]})})]})]})]}),ie&&(0,o.jsx)(S.Z,{flag:ie,close:function(){return re(!1)}})]})}var W=n(99108),M=n(26636),G=n(71037),V=n.n(G);function K(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){H(e,t,n[t])}))}return e}function X(e,t){return!t||"object"!==Q(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function $(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=z(e);if(t){var i=z(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return X(this,n)}}var ee=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(a,e);var t,n,i,r=$(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=r.call(this,e);var n=e.fields,o=e.type,i=e.isValid,s=e.disabled,c=e.filterKeyCodes,l=e.forceUppercase,u=e.value;l&&(u=u.toUpperCase()),t.state={value:u,fields:n,type:o,input:[],isValid:i,disabled:s,filterKeyCodes:c,defaultInputStyle:{fontFamily:"monospace",MozAppearance:"textfield",borderRadius:"6px",border:"1px solid",boxShadow:"0px 0px 10px 0px rgba(0,0,0,.10)",margin:"4px",paddingLeft:"8px",paddingRight:0,width:"36px",height:"42px",fontSize:"32px",boxSizing:"border-box"}};for(var d=0;d<Number(t.state.fields);d+=1)if(d<32){var h=t.state.value[d]||"";t.state.input.push(h)}return t.textInput=[],t.uuid=t.uuidv4(),t}return t=a,n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({isValid:e.isValid,value:e.value,disabled:e.disabled})}},{key:"handleBlur",value:function(e){this.handleTouch(e.target.value)}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},{key:"handleTouch",value:function(e){var t=this.props,n=t.touch,o=t.untouch,i=t.name;"function"===typeof n&&"function"===typeof o&&(""===e?n(i):o(i))}},{key:"handleChange",value:function(e){var t=this.props,n=t.filterChars,o=t.filterCharsIsWhitelist,i=String(e.target.value);this.props.forceUppercase&&(i=i.toUpperCase()),"number"===this.state.type&&(i=i.replace(/[^\d]/g,""));var r=i=i.split("").filter((function(e){return o?n.includes(e):!n.includes(e)})).join("");if(""!==i){var a=this,s=this.state.input.slice();if(i.length>1){var c=this;i.split("").map((function(t,n){return Number(e.target.dataset.id)+n<c.props.fields&&(s[Number(e.target.dataset.id)+n]=t),!1}))}else s[Number(e.target.dataset.id)]=i;s.map((function(e,t){return a.textInput[t]&&(a.textInput[t].value=e),!1}));var l=this.textInput[e.target.dataset.id<s.length?Number(e.target.dataset.id)+1:e.target.dataset.id];l&&(l.focus(),l.select()),r=s.join(""),this.setState({value:s.join(""),input:s})}this.props.onChange&&r&&this.props.onChange(r),this.handleTouch(r)}},{key:"handleKeyDown",value:function(e){var t,n,o=Number(e.target.dataset.id),i=this.textInput[o+1],r=this.textInput[o-1];switch(this.state.filterKeyCodes.length>0&&this.state.filterKeyCodes.map((function(t){if(t===e.keyCode)return e.preventDefault(),!0})),e.keyCode){case 8:e.preventDefault(),this.textInput[o].value="",(t=this.state.input.slice())[o]="",n=t.join(""),this.setState({value:n,input:t}),""===this.textInput[o].value&&r&&(r.focus(),r.select()),this.props.onChange&&this.props.onChange(n);break;case 37:e.preventDefault(),r&&(r.focus(),r.select());break;case 39:e.preventDefault(),i&&(i.focus(),i.select());break;case 38:case 40:e.preventDefault();break;case 69:if("number"===e.target.type){e.preventDefault();break}}this.handleTouch(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,i=t.style,r=void 0===i?{}:i,a=t.inputStyle,s=void 0===a?{}:a,c=t.inputStyleInvalid,l=void 0===c?{}:c,u=t.type,d=t.autoFocus,h=t.autoComplete,m=t.pattern,f=t.inputMode,p=t.placeholder,_=this.state,g=_.disabled,v=_.input,b=_.isValid,y=_.defaultInputStyle,j={container:J({display:"inline-block"},r),input:b?s:l};return n||0!==Object.keys(s).length||Object.assign(s,J({},y,{color:"black",backgroundColor:"white",borderColor:"lightgrey"})),n||0!==Object.keys(l).length||Object.assign(l,J({},y,{color:"#b94a48",backgroundColor:"#f2dede",borderColor:"#eed3d7"})),g&&Object.assign(j.input,{cursor:"not-allowed",color:"lightgrey",borderColor:"lightgrey",backgroundColor:"#efeff1"}),(0,o.jsx)("div",{className:x()(n,"react-code-input"),style:j.container,children:v.map((function(t,n){var i=e;return(0,o.jsx)("input",{ref:function(e){i.textInput[n]=e},id:"".concat(e.uuid,"-").concat(n),"data-id":n,autoFocus:d&&0===n?"autoFocus":"",value:t,type:u,min:0,max:9,maxLength:v.length===n+1?1:v.length,style:j.input,autoComplete:h,onFocus:function(e){return e.target.select(e)},onBlur:function(e){return i.handleBlur(e)},onChange:function(e){return i.handleChange(e)},onKeyDown:function(e){return i.handleKeyDown(e)},disabled:g,"data-valid":b,pattern:m,inputMode:f,placeholder:p},"input_".concat(n))}))})}}],n&&K(t.prototype,n),i&&K(t,i),a}(i.Component);ee.defaultProps={autoComplete:"off",autoFocus:!0,isValid:!0,disabled:!1,forceUppercase:!1,fields:4,value:"",type:"text",filterKeyCodes:[189,190],filterChars:["-","."],filterCharsIsWhitelist:!1},ee.propTypes={type:V().oneOf(["text","number","password","tel"]),fields:V().number,placeholder:V().string,value:V().string,onChange:V().func,name:V().string,touch:V().func,untouch:V().func,className:V().string,isValid:V().bool,disabled:V().bool,style:V().object,inputStyle:V().object,inputStyleInvalid:V().object,autoComplete:V().string,autoFocus:V().bool,forceUppercase:V().bool,filterKeyCodes:V().array,filterChars:V().array,filterCharsIsWhitelist:V().bool,pattern:V().string,inputMode:V().oneOf(["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"])};var te=ee,ne=n(83235),oe=n(64001),ie=n(24193),re=n.n(ie);function ae(e,t,n,o,i,r,a){try{var s=e[r](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,i)}var se=function(e,t){return e.find((function(e){return t.startsWith("/"+e)}))},ce=function(){var e=de(),t=e.loginData,n=e.loginType,r=e.mobileCode,a=(0,i.useState)(!1),s=a[0],c=a[1],l=(0,d.useRouter)(),h=l.locale,m=l.query,f=l.locales,_=m.previous,y=m.redirect,j=(0,i.useState)(0),w=j[0],C=j[1],S=t.secondAuthToken,I=t.secondAuthType,N=t.mobile,T=t.email,O=t.parentMemberId,L=(0,k.Z)("auth").t,Z=(0,oe.Z)().data;(0,i.useEffect)((function(){6===w.length&&E()}),[w]);var A,E=(0,i.useCallback)((A=u().mark((function e(){var o,i,r,a,s,l,d,m,g,x,j,C;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(6===w.length){e.next=2;break}return e.abrupt("return",!1);case 2:return c(!0),o=t.secondAuthToken,i={code:w,secondAuthToken:o,deviceId:(null===Z||void 0===Z?void 0:Z.visitorId)?Z.visitorId:"unknowndeviceid",timeZoneOffset:(new Date).getTimezoneOffset()},(null===Z||void 0===Z?void 0:Z.requestId)&&(i.requestId=Z.requestId),e.next=8,(0,b.Nc)(i);case 8:if(0!==(null===(r=e.sent)||void 0===r?void 0:r.code)&&(0,v.Wr)("User_loginResult",{login_method:n,is_success:null!==(a=null===r||void 0===r?void 0:r.success)&&void 0!==a&&a,fail_reason:(null===r||void 0===r?void 0:r.msg)||""}),0!==r.code){e.next=21;break}return e.next=13,(0,b.h9)({ucenterToken:r.data.token});case 13:s=e.sent,l=s.code,(0,v.fE)(null===r||void 0===r?void 0:r.data.memberId),(0,v.Wr)("User_loginResult",{login_method:n,is_success:null!==(d=0===l)&&void 0!==d&&d,fail_reason:(null===r||void 0===r?void 0:r.msg)||""}),0===l?(p.ZP.success(L("mc_auth_login_success")),c(!1),(m=(m=_||y)?decodeURIComponent(m):"/user").startsWith("/")||(g=window.location.hostname.split(".").slice(-2).join("."),x=new URL(m),j=x.hostname||"",C=j.split(".").slice(-2).join("."),m=g===C?m:"/user"),m.startsWith("/")&&(m=(0,v.Ze)(m)?"/user":m,m=se(f,m)?m:"/".concat(h).concat(m)),window.location.replace(m)):c(!1),e.next=22;break;case 21:c(!1);case 22:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var i=A.apply(e,t);function r(e){ae(i,n,o,r,a,"next",e)}function a(e){ae(i,n,o,r,a,"throw",e)}r(void 0)}))}),[w]);return(0,o.jsxs)("div",{className:re().wrap,children:[2===I&&(0,o.jsx)("div",{className:re().title,children:L("common:mc_common_google_captcha")}),1===I&&(0,o.jsx)("div",{className:re().title,children:L("common:mc_common_phone_captcha")}),0===I&&(0,o.jsx)("div",{className:re().title,children:L("common:mc_common_email_captcha")}),(0,o.jsx)(te,{fields:6,type:"number",className:re().codeInput,onChange:function(e){6===e.length&&C(e)}}),2!==I&&(0,o.jsxs)(W.Z,{justify:"space-between",align:"middle",className:re().captchaSend,children:[(0,o.jsx)(M.Z,{children:(0,o.jsx)("a",{className:re().captchaHelp,href:h.startsWith("zh-")?"".concat("https://support.mexc.com",1===I?"/hc/zh-cn/articles/360032462892":"/hc/zh-cn/articles/360029387992"):"".concat("https://support.mexc.com",1===I?"/hc/en-001/articles/360059827912":"/hc/en-001/articles/360029388132"),target:"_blank",rel:"nofollow noopener noreferrer",children:L("mc_auth_captcha_unreceived")})}),(0,o.jsx)(ne.Z,{buttonType:"link",sendType:1===I?"mobile":"email",mobileCode:1===I?r:void 0,sendParams:{type:"LOGIN_SECOND_AUTH",secondAuthToken:S},autoSend:!0})]}),(0,o.jsx)(g.Z,{type:"primary",htmlType:"submit",onClick:E,loading:s,children:L("common:mc_common_nav_login")}),t.phishingCode&&(0,o.jsxs)("div",{className:re().phishing,children:[(0,o.jsxs)("div",{className:x()(re().head,re().green),children:[(0,o.jsx)("i",{className:"iconfont icondiaoyuma"}),(0,o.jsx)("span",{children:t.phishingCode})]}),(0,o.jsx)("p",{children:L("mc_auth_login_phishing_tips1")})]}),!t.phishingCode&&(0,o.jsxs)("div",{className:re().phishing,children:[(0,o.jsxs)("div",{className:x()(re().head,re().yellow),children:[(0,o.jsx)("i",{className:"iconfont iconInfoCircle"}),(0,o.jsx)("span",{children:L("common:mc_common_safe_unbind_anti")})]}),(0,o.jsx)("p",{children:L("mc_auth_login_phishing_tips3")})]}),(0,o.jsx)("a",{className:re().securityReset,onClick:function(){window.sessionStorage.setItem("mexc_login_security_reset_data",JSON.stringify({email:T,mobile:N,needGoogleAuth:2===I,parentMemberId:O,secondAuthToken:S})),l.replace("/security-reset-login")},children:L("common:mc_common_security_reset")})]})},le=(0,i.createContext)({}),ue=!0,de=function(){return(0,i.useContext)(le)};function he(){var e=(0,k.Z)("auth").t,t=(0,i.useState)({}),n=t[0],r=t[1],l=(0,i.useState)("mobile"),u=l[0],h=l[1],m=(0,i.useState)(),f=m[0],p=m[1],_=(0,i.useState)("qrcodeLogin"),g=_[0],v=_[1],b=(0,i.useState)((function(){return e("mc_auth_login_title")})),y=b[0],x=b[1],j=(0,d.useRouter)(),w=j.asPath,C=j.locale,S=j.query,I=j.defaultLocale,N=j.replace,T=(0,oe.Z)().mutate;return(0,i.useEffect)((function(){T()}),[]),(0,i.useEffect)((function(){S.lang&&S.lang!==C&&(S.lang!==I?N("/".concat(S.lang).concat(w)):window.location.href=w)}),[C,S.lang]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a(),{children:[(0,o.jsx)("title",{children:e("mc_auth_login_tdk_title")}),(0,o.jsx)("meta",{name:"keywords",content:e("mc_auth_login_tdk_keywords")}),(0,o.jsx)("meta",{name:"description",content:e("mc_auth_login_tdk_description")})]}),(0,o.jsx)(s.G,{children:(0,o.jsx)(le.Provider,{value:{loginData:n,setLoginData:r,loginType:u,setLoginType:h,mobileCode:f,setMobileCode:p,setTitle:x,setLoginLayoutType:v},children:(0,o.jsxs)(c.Z,{type:g,pageType:"login",title:y,children:[!n.memberId&&(0,o.jsx)(B,{}),n.memberId&&(0,o.jsx)(ce,{})]})})})]})}he.nav="float",he.footer="none",he.theme="light",he.sidebarBg="light",he.navBg="green"},24193:function(e){e.exports={wrap:"AuthCode_wrap__fC4H0",title:"AuthCode_title__7jX0D",getCode:"AuthCode_getCode__uiZuq",disabled:"AuthCode_disabled__KnP4u",captchaSend:"AuthCode_captchaSend__ehve_",captchaHelp:"AuthCode_captchaHelp__Zc9oR",phishing:"AuthCode_phishing__nhk5x",head:"AuthCode_head__HolYG",green:"AuthCode_green__VyixU",yellow:"AuthCode_yellow__IlvSP",links:"AuthCode_links__24kOD",codeInput:"AuthCode_codeInput__7WYrT",securityReset:"AuthCode_securityReset__r6bpo"}},96918:function(e){e.exports={tabs:"login_tabs__u2X6f",tab:"login_tab__gAl6b",active:"login_active__MdPJz",tips:"login_tips__mwhUe",getCode:"login_getCode__yLsJJ",disabled:"login_disabled__n18Et",links:"login_links__x3yQw",toRight:"login_toRight__WJsX8",center:"login_center__OLR3n",loginForm:"login_loginForm__7xirR",item:"login_item__CBj3_",itemFocused:"login_itemFocused__wUWwR",otherLogin:"login_otherLogin__BP2vR",otherLoginTitle:"login_otherLoginTitle__uncFo",otherLoginTitleText:"login_otherLoginTitleText__BPF80",otherLoginHandle:"login_otherLoginHandle__RVoYd",otherLoginItem:"login_otherLoginItem__ufW2N",itemIcon:"login_itemIcon__d6BM6",itemTelegramIcon:"login_itemTelegramIcon__0iqlq"}}},function(e){e.O(0,[33714,62625,37812,47374,4634,55281,54103,93633,83235,26964,49774,92888,40179],(function(){return t=36429,e(e.s=t);var t}));var t=e.O();_N_E=t}]);